(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{88:function(e,t,a){"use strict";a.r(t);var l=a(40),c=a.n(l),n=a(2),s=a.n(n),r=a(0),i=a.n(r),p=a(24),m=(a(18),a(20),a(8),a(23),a(19)),o="https://youdeespot.com";var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=e.handleInfo,l=e.handleLoading,c=Object(r.useState)(),n=s()(c,2),i=n[0],p=n[1],u=Object(r.useState)(),d=s()(u,2),h=d[0],f=d[1];return{handleSearchChange:b,handleSearchSubmit:function(){l(!0),(e=i,Object(m.POST)({url:o+"/api/import",body:{playlistId:e}})).then(function(){t(!0),b()}).catch(a);var e},isValidSearch:h,search:i};function b(e){var t=e&&e.target&&e.target.value||"";p(t),f(!!t.length)}},d=a(32),h=function(e){var t=e.icon,a=e.global,l=e.name,c=e.title,n=e.description,s=e.suggestions,r=e.placeholder,p=(e.example,e.elements,u(a,e.handleFetchPlaylists)),m=p.handleSearchChange,o=p.handleSearchSubmit,h=p.isValidSearch,x=p.search;return i.a.createElement("div",{className:"p-rl:3pc"},i.a.createElement("h1",{className:"fs:160pc m-t:5px lh:1.1 mxw:200px"},c&&c.map(function(e){return i.a.createElement("div",{key:e},e)})),i.a.createElement("h2",{className:"fs:95pc m-tb:20px c:56585C"},n),i.a.createElement("form",{className:b()},i.a.createElement("i",{className:"fu-search c:56585C m-l:10px m-b:2px"}),i.a.createElement("input",{value:x,onChange:m,placeholder:r,className:g()}),i.a.createElement("i",{onClick:h&&o||null,className:f(h)}),h&&i.a.createElement("i",{onClick:function(){return m()},className:"fu-cross c:56585C p-r:10px crs:pt m-b:2px"})),i.a.createElement(d.a.Logo,{image:t,name:l}),i.a.createElement("h2",{className:"fs:85pc m-b:10px m-t:10px c:56585C mxw:250px"},s))},f=function(e){return Object(p.fucss)({"fu-check p-r:10px crs:pt m-b:2px":!0,"c:56585C":!e,"c:green":e})},b=function(){return Object(p.fucss)({"w:100pc m-tb:15px dp:flx ai:c bg:26292D br:5px":!0})},g=function(e){return Object(p.fucss)({"p:10px fs:85pc w:100pc c:grey200 fw:600 bg:ts":!0})},x="https://youdeespot.com/v1alpha1/graphql",y={tracks:"query($videoIds: [String]) { track(where: { videoId: { _in: $videoIds } }) { id title name artist img videoId altVideoId } }",playlists:"query { playlist (order_by: {createdAt: desc}, limit: 50) { id title playlistId title description img channelTitle itemCount } }",playlist:function(e){return'query { playlist(where: { playlistId: { _eq: "'.concat(e,'"}}) { id title playlistId title description img channelTitle itemCount videoIds } }')}};var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.handleInfo,a=e.handleLoading,l=Object(r.useState)([]),c=s()(l,2),n=c[0],i=c[1];return Object(r.useEffect)(function(){p()},[]),{playlists:n,handleInfo:t,handleFetchPlaylists:p};function p(e){!e&&a(!0),Object(m.GQL)({url:x,query:y.playlists}).then(function(e){return e.playlist}).then(function(e){i(e),a()}).catch(t)}},E=function(e){var t=e.global,a=e.callback,l=v(t),c=l.playlists,n=l.handleFetchPlaylists;return Object(r.useImperativeHandle)(a,function(){return{handleFetchPlaylists:n}}),i.a.createElement("div",{className:"m-t:10px of:auto mxw:700px w:100vw md-p-rl:3pc"},i.a.createElement("div",{className:"dp:flx"},c.map(w)))},w=function(e){var t=e.img,a=e.title,l=e.channelTitle,c=e.playlistId;return i.a.createElement(d.a.Link,{key:a,className:"mdx-m:5px m:10px m-l:0",to:"/playlist/"+c},i.a.createElement("span",{className:"ps:rl w:200px of:hd bg:26292D bs:2 br:5px m-b:20px hv-scl:1.05_bg:black ts:all hv-try:0_h4"},i.a.createElement("img",{className:"w:100pc dp:bk",src:t}),i.a.createElement("h4",{className:"p:10px ps:ab w,h:100pc bg:blacka7 dp:flx ai:c t,l:0 md-try:100pc ts:all"},i.a.createElement("span",null,a,i.a.createElement("br",null),i.a.createElement("small",{className:"fs:80pc fw:300"},l)))))},N=a(15),O=a(14);t.default=Object(O.withSiteData)(function(e){var t=Object(r.useContext)(N.b),a=Object(r.useRef)(),l=Object(r.useState)({handleFetchPlaylists:console.log}),n=s()(l,2),p=n[0],m=n[1];return Object(r.useEffect)(function(){m(a.current)},[a]),i.a.createElement(r.Fragment,null,i.a.createElement("div",{className:"p-tb:30px mxw:700px w:100pc"},i.a.createElement(h,c()({},e,{global:t,handleFetchPlaylists:p.handleFetchPlaylists})),i.a.createElement(E,{callback:a,global:t})))})}}]);